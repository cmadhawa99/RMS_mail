{% extends 'letters/admin_base.html' %}

{% block admin_content %}
<div class="container" style="max-width: 600px;">
    <div class="card border-danger shadow">
        <div class="card-header bg-danger text-white">
            <h3 class="mb-0"><i class="fas fa-exclamation-triangle"></i> CREATE SUPERUSER</h3>
        </div>
        <div class="card-body">
            <div class="alert alert-warning">
                <strong>WARNING:</strong> You are about to create a <strong>Superuser</strong>. 
                <br>This user will have full control over the database, including the ability to delete all data.
            </div>

            <form method="post" id="superForm">
                {% csrf_token %}
                {{ form.as_p }}
                
                <hr>
                <div class="d-grid">
                    <button type="button" onclick="doubleConfirm()" class="btn btn-danger btn-lg">
                        Create Superuser
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
function doubleConfirm() {
    if (confirm("First Warning: Are you sure you want to create a new Administrator?")) {
        if (confirm("FINAL WARNING: This user will have unlimited access. Are you absolutely sure?")) {
            document.getElementById('superForm').submit();
        }
    }
}
</script>
{% endblock %}